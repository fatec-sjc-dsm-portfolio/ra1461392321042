<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Portfólio</title>
    <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
    <nav aria-label="Menu principal">
        <ul id="menu-list">
            <!-- O menu será preenchido via JS -->
        </ul>
    </nav>
    <div id="conteudo"></div>
    <script>
    function loadSection(sec) {
        if (!sec || sec === 'home') {
            document.getElementById('conteudo').innerHTML = `<section><h1>Bem-vindo ao meu portfólio!</h1><p>Esta é a página inicial.</p></section>`;
            highlightMenu('home');
        } else {
            fetch('pages/' + sec + '.html')
                .then(resp => resp.text())
                .then(html => {
                    document.getElementById('conteudo').innerHTML = html;
                    highlightMenu(sec);
                });
        }
    }

    function renderMenu(current) {
        const menuList = document.getElementById('menu-list');
        let items = '';
        if (current !== 'home') {
            items += `<li><a id="menu-home" href="#home" tabindex="0">Home</a></li>`;
        }
        items += `<li><a id="menu-sobre" href="#sobre" tabindex="0">Sobre</a></li>`;
        items += `<li><a id="menu-projetos" href="#projetos" tabindex="0">Projetos</a></li>`;
        items += `<li><a id="menu-contato" href="#contato" tabindex="0">Contato</a></li>`;
        menuList.innerHTML = items;
    }

    function highlightMenu(sec) {
        ['home','sobre','projetos','contato'].forEach(id => {
            const el = document.getElementById('menu-' + id);
            if (el) {
                if (id === sec) {
                    el.classList.add('active');
                } else {
                    el.classList.remove('active');
                }
            }
        });
    }

    function getCurrentSection() {
        let sec = location.hash.replace('#','');
        if (!sec || sec === 'home') return 'home';
        return sec;
    }

    window.addEventListener('DOMContentLoaded', () => {
        let sec = getCurrentSection();
        renderMenu(sec);
        highlightMenu(sec);
        loadSection(sec);
    });
    window.addEventListener('hashchange', () => {
        let sec = getCurrentSection();
        renderMenu(sec);
        highlightMenu(sec);
        loadSection(sec);
    });
    </script>
</body>
</html>
